## 背景
元素的背景区，包括前景之下知道边框外边界的所有空间; 因此元素内容框和内边距都是元素背景的一部分，且边框画在背景之上

#### 背景色
**background-color**

- 值：\<color> | transparent | inherit

- 初始值：transparent
- 应用于：所有元素
- 继承性：无
- 计算值：根据指定确定

*如果希望背景色从元素中的文本向外有所延伸，只需增加一些内边距*

如果一个元素没有指定背景色，其背景应该是透明的，这样其祖先元素的背景才能可见

#### 历史问题
Navigator4 对背景色的处理完全是错误的。它不是将背景色应用到整个内容框和内边距，背景色只出现在文本下面

#### 特殊效果
color 和 background-color 结合在一起使用可以创建一些有用的效果

#### 背景图像
**background-image**
- 值：\<uri> | none | inherit

- 初始值：none
- 应用于: 所有元素
- 继承性：无
- 计算值: 绝对 URI

例如:
```css
/**
* 会把图像 bg23.gif 平铺在文档的背景上
*/
body {background-image: url(bg23.gif)}
```
*注意：* 指定背景图像的同时可以再指定一个背景色，这往往是个好主意

相对 URL 要结合样式表来解释，Navigator 4.x无法正确做到这点，所以绝对URL可能是更好的选择

#### 背景不能继承
阐述内容（略）

#### 关于背景的良好实践
图像放在所指定的背景颜色之上

完全平铺的图像会填满文档背景

出于某种原因无法加载图像，用户代理会用指定的背景色取代图像

#### 有方向的重复
**background-repeat**
- 值：repeat | repeat-x | repeat-y | no-repeat | inherit


- 初始值: repeat
- 应用于：所有元素
- 继承性：无
- 计算值：根据指定确定

repeat-x 和 repeat-y 分别导致图像只在水平方向或垂直方向上重复， no-repeat 则不允许图像在任何方向上平铺

默认地，背景图像将会从一个元素的左上角开始

#### 背景定位
**background-position:**

- 值：[[\<percentage> | \<length> | left | center | right] [\<percentage>] | \<length> | top | center | bottom]?] || [[left | center | right] || [top | center | bottom]] | inherit

- 初始值：0% 0%
- 应用于: 块级元素和替换元素
- 继承性: 无
- 百分数：相对于元素和原图像上的响应点
- 计算值：如果指定了 \<length> 则为绝对长度偏移；否则是百分数

CSS 标准指出 background-position 会根据元素内边距放置图像。换句话说，图像上下文是内边框边界。并非所有浏览器都能满足标准，有些浏览器相对于外边框边界放置图像。如果没有边框，无论哪种浏览器效果都一样

##### 关键字
位置关键字可以按任何顺序出现，只要不超过两个关键字—— 一个对应水平方向，一个对应垂直方向。例如:
```css
/**
* 将元素背景置于右上角
*/
p {
...other properties...
background-position: top right;
}
```
*警告：* Navigator 6.x 中有个bug，如果规则中 background-position关键字采用某种特定顺序，这个bug会使浏览器忽略这条规则。为了避免这个bug，关键字先指定水平放置，然后是垂直放置

如果只出现了一个关键字，则认为另一个关键字是 *center*

#### 百分数值

将一个图像在一个元素中居中时，图像中描述为 50% 50%的点(中心点)，与 元素中描述为 50% 50% 的点(中心点)对齐。如果图像位于0% 0%其左上角将放在元素内边距区的左上角。如果图像位置是 100% 100% ，其右下角放在内边距区右下角

如果只提供了一个百分数，所提供值将作为水平值，垂直值假设为 50%

#### 长度值
为原图像的位置提供长度值时，这些长度值将解释为从元素内边距区左上角的偏移

可以混合使用长度和百分数以达到某些效果

*警告* CSS2.1 之前不能将关键字与其他值混合使用，CSS2.1 开始就可以了

如果使用长度值和百分数，可以使用负值将原图像拉出背景区

使用负百分数时需要注意:
- 有可能用户代理不识别

- 原图像和元素大小不同会导致计算出现意想不到的效果(正百分数也有同样的问题)

#### 有方向的重复 (深入)
- 当背景从中心重复时，会在各边界上得到一致的剪裁效果

- 从内边距区左上角重复时，剪裁不一致

#### 关联
**background-attachment**
- 值: scroll | fixed | inherit

- 初始值：scroll
- 应用于：所有元素
- 继承性: 无
- 计算值: 根据指定确定

通过使用属性 background-attachment 可以声明原图像相对于视区是固定的(fixed),因此不受滚动影响

设置为 fixed 的影响:
- 原图像不会随文本滚动

- 原图像放置由视区大小确定


设置为 scroll 的影响

- 背景随文档滚动，窗口大小调整时不一定改变原图像的位置
- 如果文档宽度固定(可能为 body 元素显式指定了一个宽度)，那么视区大小的调整根本不会影响滚动关联的原图像的放置

#### 有意思的背景
如果一个背景图像已固定，它会相对于可视区定位，而不是相对于包含该图像的元素定位

*注意 IE6 不能正确处理非 body 元素上的固定关联背景*

对于分页媒体(如打印输出), 每个页面都生成自己的视窗.因此固定关联背景在每一页上都应当显示。 这可以用于g给文档中所有页面加水印效果。对此存在两方面问题:

- 使用 CSS 无法强制打印背景图像

- 并非所有浏览器都能适当地处理固定关联背景的打印

###### 汇总
**background**

- 值：[ \<background-color> || \<background-image> || \<background-repeat> || \<background-attachment> || \<background-position> ] | inherit

- 初始值：根据单个值
- 应用于：所有元素
- 继承性: 无
- 百分数：\<background-position> 允许的值
- 计算值： 见单个值

background 中值的顺序有一个小小的限制：如果 background-position 有两个值,它们必须一起出现,而且如果这两个值是长度或百分数,则必须按水平值在前，垂直值在后的顺序。

就像所有简写属性一样,如果省略了某些值，就会自动填入相应属性的默认值

background 没有必不可少值，只要至少出现了另一个值就行,而省略了其他属性值

background 默认值会覆盖先前为给定元素指定的值。例如：
```css
/**
* 简写属性只会改变背景色, 而不会覆盖其他所有值
*/
h1, h2 {
    background: gray, url(tree.jpg) center repeat;
    }
    
    h2 {
        background: silver;
    }
```



